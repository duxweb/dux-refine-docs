{"version":3,"sources":["../../../node_modules/.pnpm/tsup@6.6.3_typescript@4.9.5/node_modules/tsup/assets/esm_shims.js","../src/index.ts"],"sourcesContent":["// Shim globals in esm bundle\nimport { fileURLToPath } from 'url'\nimport path from 'path'\n\nconst getFilename = () => fileURLToPath(import.meta.url)\nconst getDirname = () => path.dirname(getFilename())\n\nexport const __dirname = /* @__PURE__ */ getDirname()\nexport const __filename = /* @__PURE__ */ getFilename()\n","import type { IslandPlugin } from 'islandjs/plugin';\nimport { join } from 'path';\n\nexport interface SearchOptions {\n  maxSuggestions?: number;\n}\n\nexport function pluginSearch(options: SearchOptions = {}): IslandPlugin {\n  const { maxSuggestions = 7 } = options;\n  return {\n    name: 'island:plugin-search',\n    vite: {\n      optimizeDeps: {\n        include: ['flexsearch']\n      }\n    },\n    alias: {\n      '@search-box': join(__dirname, '../src/component/index.tsx')\n    },\n    define: {\n      __SEARCH_MAX_SUGGESTIONS__: JSON.stringify(maxSuggestions)\n    },\n    // Restart dev server when plugin file changes.\n    watchFiles: [join(__dirname, 'index.js')]\n  };\n}\n"],"mappings":"AACA,OAAS,iBAAAA,MAAqB,MAC9B,OAAOC,MAAU,OAEjB,IAAMC,EAAc,IAAMF,EAAc,YAAY,GAAG,EACjDG,EAAa,IAAMF,EAAK,QAAQC,EAAY,CAAC,EAEtCE,EAA4BD,EAAW,ECNpD,OAAS,QAAAE,MAAY,OAMd,SAASC,EAAaC,EAAyB,CAAC,EAAiB,CACtE,GAAM,CAAE,eAAAC,EAAiB,CAAE,EAAID,EAC/B,MAAO,CACL,KAAM,uBACN,KAAM,CACJ,aAAc,CACZ,QAAS,CAAC,YAAY,CACxB,CACF,EACA,MAAO,CACL,cAAeF,EAAKI,EAAW,4BAA4B,CAC7D,EACA,OAAQ,CACN,2BAA4B,KAAK,UAAUD,CAAc,CAC3D,EAEA,WAAY,CAACH,EAAKI,EAAW,UAAU,CAAC,CAC1C,CACF","names":["fileURLToPath","path","getFilename","getDirname","__dirname","join","pluginSearch","options","maxSuggestions","__dirname"]}