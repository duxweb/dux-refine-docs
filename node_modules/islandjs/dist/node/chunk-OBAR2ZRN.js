import{B as S,F as X,H as G,b as A,c as f,d as D,e as d,f as H,g as j,h as C,i as M,j as U,l as w,m as $,q as F,r as O,s as y,t as g,u as v,w as T,x as b,y as R}from"./chunk-XRLDNMSZ.js";import lt from"@vitejs/plugin-react";import*as J from"fs";function V(e={}){let{defaultExport:t="component"}=e;return{name:"island:vite-plugin-svgr",async transform(n,i){if(!i.endsWith(".svg"))return n;let r=await(await import("@svgr/core")).transform,o=await import("esbuild"),a=await J.promises.readFile(i,"utf8"),s=await r(a,{},{componentName:"ReactComponent"}),l=s;return t==="url"&&(l=s.replace("export default ReactComponent","export { ReactComponent }"),l+=n),(await o.transform(l,{loader:"jsx"})).code}}}import{join as Pe,relative as ye}from"path";import ve from"picocolors";import{mergeConfig as I}from"vite";import W from"sirv";import be from"path";import Se from"fs-extra";var{green:Ne}=ve;function B(e,t){let n=a=>e.plugins?.map(s=>s[a]).filter(Boolean).reduce((s,l)=>I(s,l),{}),i=n("alias"),r=n("define"),o=n("vite");return{name:"island:vite-config",enforce:"pre",async resolveId(a){if(f()&&y.includes(a))return{id:a,external:!0}},config(){return I({root:H,esbuild:{jsx:"preserve"},optimizeDeps:{include:["react","react-dom","react-dom/client","react-router-dom","react/jsx-runtime","react-helmet-async","lodash-es","copy-to-clipboard","medium-zoom","body-scroll-lock","nprogress"],exclude:["islandjs","@theme","@runtime","@shared","island/routes","island/jsx-runtime"]},server:{fs:{allow:[j,w,C,process.cwd()]}},resolve:{alias:{"@theme":e.themeDir,"@runtime":`${M}`,"@shared":`${C}`,"island/jsx-runtime":Pe(g,"jsx-runtime.js"),"@theme-default":w,...i}},define:{"import.meta.env.ENABLE_SPA":e.enableSpa,...r},css:{modules:{localsConvention:"camelCaseOnly"}}},I(e.vite??{},o??{}))},async handleHotUpdate(a){let s=e.plugins?.map(c=>c.watchFiles).flat(),l=[v,e.configPath,...e.configDeps||[],...s||[]].filter(Boolean);if((c=>l.some(h=>c.includes(h)))(a.file))return console.log(Ne(`
${ye(e.root,a.file)} changed, restarting server...`)),await t(),[]},configureServer(a){let s=be.join(e.root,$);Se.pathExistsSync(s)&&a.middlewares.use(W(s)),a.middlewares.use(W(e.root))}}}import{normalizePath as Ee}from"vite";import{join as Ce}from"path";import we from"fs-extra";function z(e){return{name:"island:custom-ui",resolveId(t){if(t===b)return`\0${b}`;if(t===R)return`\0${R}`},async load(t){if(t===`\0${b}`)return([Ce(e.root,".island","styles","index.css")].concat(e.plugins?.map(r=>r.globalStyles||"")||[]).filter(r=>r&&we.existsSync(r))||[]).map(r=>`import '${Ee(r)}';`).join(`
`)}}}import K from"fs-extra";import{join as Te}from"path";function Y(e){return{name:"island:index-html",apply:"serve",transformIndexHtml(t){let n=e.siteData?.head?.map(i=>{let[r,o,a]=i;return{tag:r,attrs:o,children:a}})??[];return{html:t,tags:[...n,{tag:"link",attrs:{rel:"icon",href:`${e.siteData?.icon}`,type:"image/image/svg+xml"},injectTo:"head"},{tag:"script",attrs:{type:"module",src:`/@fs/${U}`},injectTo:"body"}]}},configureServer(t){e.configPath&&(t.watcher.add(e.configPath),e.configDeps?.forEach(i=>{t.watcher.add(i)}));let n=e.plugins?.map(i=>i.watchFiles).filter(Boolean).flat();return t.watcher.add([v,...n]),()=>{t.middlewares.use(async(i,r,o)=>{if(r.writableEnded)return o();let a=Te(e.root,".island","index.html"),s=await K.pathExists(a)?a:F;if(i.url?.replace(/\?.*/,"")){let l=K.readFileSync(s,"utf8");try{l=await t.transformIndexHtml(i.url,l,i.originalUrl),r.statusCode=200,r.setHeader("Content-Type","text/html"),r.end(l)}catch(u){return o(u)}}})}}}}import{transformWithEsbuild as ke}from"vite";import{transformAsync as Le}from"@babel/core";import{declare as Re}from"@babel/helper-plugin-utils";import{types as P}from"@babel/core";import{normalizePath as Ie}from"vite";var _e="__island",N=Re(e=>(e.assertVersion(7),{name:"transform-react-jsx-island",visitor:{JSXOpeningElement(n,i){let r=n.node.name,o;if(P.isJSXIdentifier(r))o=r.name;else if(P.isJSXMemberExpression(r)){let s=r.object;for(;P.isJSXMemberExpression(s);)s=s.object;o=s.name}else if(P.isJSXNamespacedName(r))o=r.namespace.name;else return;let a=n.scope.getBinding(o);if(a?.path.parent.type==="ImportDeclaration"){let s=(a?.path.parent).source,l=n.container.openingElement.attributes;for(let u=0;u<l.length;u++)l[u].name?.name===_e&&(l[u].value=P.stringLiteral(`${s.value}${O}${Ie(i.filename||"")}`))}}}}));function Z(e,t){return{name:"island:vite-plugin-internal",async transform(n,i,r){if(r?.ssr&&(D.test(i)||d.test(i))&&!e.enableSpa){let o=await ke(n,i,{jsx:"preserve",loader:"tsx"}),a=await Le((await o).code,{filename:i,presets:[["@babel/preset-react",{runtime:"automatic",importSource:t?g:"react"}],...e.babel?.presets||[]],plugins:[N,...e.babel?.plugins||[]]});return{code:a?.code||n,map:a?.map}}}}}var _="island:site-data",k="island:base";function q(e){let{siteData:t}=e;return{name:"island:site-data",async resolveId(n){if(n===_)return"\0"+_;if(n===k)return"\0"+k;if(f()&&y.includes(n))return{id:n,external:!0}},load(n){if(n==="\0"+_)return`export default ${JSON.stringify(t)}`;if(n==="\0"+k)return`export default ${JSON.stringify(t?.base||"/")}`}}}function Q(e,t=!1,n){return[q(e),B(e,n),Y(e),Z(e,t),z(e)]}import Je from"@mdx-js/rollup";import{visit as Ae}from"unist-util-visit";var ee=()=>e=>{Ae(e,"element",t=>{if(t.tagName==="pre"&&t.children[0].type==="element"&&t.children[0].tagName==="code"&&!t.data?.isVisited){let n=t.children[0],i=n.properties?.className?.toString()||"",r=i.split("-")[1];if(!i||!r)return;n.properties.className="";let o={type:"element",tagName:"pre",data:{isVisited:!0},children:t.children};t.tagName="div",t.properties=t.properties||{},t.properties.className=i,t.children=[{type:"element",tagName:"button",properties:{className:"copy"},children:[{type:"text",value:""}]},{type:"element",tagName:"span",properties:{className:"lang"},children:[{type:"text",value:r}]},o]}})};import Ve from"remark-gfm";import We from"remark-frontmatter";import Be from"remark-directive";import ze from"remark-mdx-frontmatter";import Ke from"remark-gemoji";import{visit as He}from"unist-util-visit";import re from"path";import{createHash as De}from"crypto";var mr=new Function("modulePath","return import(modulePath)"),pr=e=>{if(!e)throw new Error(`Invalid info: ${e}`);return De("sha256").update(e).digest("hex").slice(0,8)},te=e=>{let[t,n=""]=e.split("#"),[i,r=""]=t.split("?");return{url:i,query:r,hash:n}};var ie=({base:e,enableSpa:t})=>n=>{He(n,i=>i.type==="link",i=>{if(!i.url||i.url.startsWith("http")||i.url.startsWith("#"))return;let{url:r,hash:o}=te(i.url),a=re.extname(r);(a===".md"||a===".mdx")&&(r=r.replace(a,"")),f()&&!t&&a!==".html"&&(r+=".html"),o&&(r+=`#${o}`),i.url=re.join(e,r)})};import Ye from"rehype-autolink-headings";import Ze from"rehype-slug";import qe from"rehype-external-links";import{visitChildren as je}from"unist-util-visit-children";import{parse as Me}from"acorn";import Ue from"github-slugger";var ne=new Ue,oe=()=>e=>{let t=[],n="";ne.reset(),je(r=>{if(!(r.type!=="heading"||!r.depth||!r.children)&&(r.depth===1&&(n=r.children[0].value),r.depth>1&&r.depth<5)){let o=r.children.map(l=>{switch(l.type){case"text":case"inlineCode":return l.value;case"emphasis":case"strong":case"link":return l.children?.map(u=>u.value).join("")||"";default:return""}}).join(""),a=ne.slug(o),s=r.depth;t.push({id:a,text:o,depth:s})}})(e);let i=`export const toc = ${JSON.stringify(t,null,2)}`;if(e.children.push({type:"mdxjsEsm",value:i,data:{estree:Me(i,{ecmaVersion:2020,sourceType:"module"})}}),n){let r=`export const title = "${n}"`;e.children.push({type:"mdxjsEsm",value:r,data:{estree:{type:"Program",sourceType:"module",body:[{type:"ExportNamedDeclaration",declaration:{type:"VariableDeclaration",kind:"const",declarations:[{type:"VariableDeclarator",id:{type:"Identifier",name:"title"},init:{type:"Literal",value:n,raw:`"${n}"`}}]},specifiers:[]}]}}})}};import{visit as $e}from"unist-util-visit";var ae=()=>e=>{$e(e,t=>{if(t.type!=="containerDirective"||!t.name)return;let n=T.includes(t.name)?t.name:T[0],i=t.attributes?.title,r=t.data||(t.data={}),o=t.children;r.hName="div",r.hProperties={class:`island-directive ${n}`},t.children=[{type:"paragraph",data:{hProperties:{class:"island-directive-title"}},children:[{type:"text",value:i??n.toLocaleUpperCase()}]},{type:"element",data:{hProperties:{class:"island-directive-content"}},children:o}]})};import Qe from"shiki";import{visit as Fe}from"unist-util-visit";import{fromHtml as Oe}from"hast-util-from-html";function Xe(e,t){let n=t.children[0].children[0].children,i=(e-1)*2;e<1||!n?.length||i>=n.length||(n[i].properties.className="line highlighted")}var se=({highlighter:e})=>t=>{Fe(t,"element",(n,i,r)=>{if(n.tagName==="pre"&&n.children?.[0]?.type==="element"&&n.children[0].tagName==="code"){let o=n.children[0],a=n.children[0].children[0].value,s=o.properties?.className?.toString()||"",u=/language-([a-zA-Z]*)\s*({[\d,-]*})?/i.exec(s);if(!u)return;let c=u[1];if(!c)return;let h=[];u[2]?.slice(1,u[2].length-1)?.split(",").forEach(x=>{if(x.includes("-")){let[L,he]=x.split("-");h.push(...Array(Number(he)-Number(L)+1).fill(0).map((pt,xe)=>Number(L)+xe))}else h.push(Number(x))});let ge=e.codeToHtml(a,{lang:c}),E=Oe(ge,{fragment:!0});E.children[0].children[0].properties.className="language-"+c,h.forEach(x=>Xe(x,E)),r?.children.splice(i,1,...E.children)}})};import{visit as Ge}from"unist-util-visit";var le=()=>e=>{Ge(e,"element",(t,n,i)=>{if(t.tagName==="pre"&&t.children?.[0]?.type==="element"&&t.children[0].tagName==="code"&&i){if("properties"in i){let s=i?.properties?.className?.toString()||"";i.properties=i.properties||{},i.properties.className=`${s} line-numbers-mode`}let r=t.children[0].children.filter(s=>s.type==="text"),o={type:"element",tagName:"div",properties:{className:"line-numbers-wrapper"},children:[...Array(r.length)].map((s,l)=>({type:"element",tagName:"span",properties:{className:"line-number"},children:[{type:"text",value:String(l+1)}]}))},a=i.children;i.children=[...a,o]}})};async function me(e,t){let n=e.plugins||[];return Je({jsx:t&&!e.enableSpa,remarkPlugins:[Ve,We,[ze,{name:"frontmatter"}],Ke,oe,Be,ae,[ie,{base:e.base||"/",enableSpa:e.enableSpa}],...e.markdown?.remarkPlugins||[],...n.map(i=>i.markdown?.remarkPlugins||[]).flat()],rehypePlugins:[Ze,[Ye,{properties:{class:"header-anchor",ariaHidden:"true"},content:{type:"text",value:"#"}}],[qe,{target:i=>{let r=i.properties?.href,o=[...A,...e.markdown?.targetBlankWhiteList??[]];if(typeof r=="string")return o.some(s=>s instanceof RegExp?s.test(r):r.startsWith(s))?"_self":"_blank"}}],[se,{highlighter:await Qe.getHighlighter({theme:"nord"})}],ee,...e.markdown?.lineNumbers?[le]:[],...e.markdown?.rehypePlugins||[],...n.map(i=>i.markdown?.rehypePlugins||[]).flat()]})}import et from"assert";function pe(e){let t;return{name:"vite-plugin-mdx-hmr",apply:"serve",configResolved(n){t=n.plugins.find(i=>i.name==="vite:react-babel")},async transform(n,i,r){if(d.test(i)){t.transform,et(typeof t.transform=="function");let o=await t.transform?.call(this,n,i+"?.jsx",r),a="import.meta.hot.accept();";return typeof o=="object"&&!o.code?.includes(a)&&(o.code+=a),o}},handleHotUpdate(n){if(/\.mdx?/.test(n.file)){let i=X.getRoutePathFromFile(n.file,e.root,e.base||"/");n.server.ws.send({type:"custom",event:"md(x)-changed",data:{filePath:n.file,routePath:i}})}}}}import{simpleGit as tt}from"simple-git";import{now as rt}from"lodash-es";function ue(){let e=new Map,t=tt();async function n(i){try{let{latest:r}=await t.log({file:i});return r?r.date:""}catch(r){return console.log(r?.message),rt()}}return{name:"vite-plugin-mdx-last-update",async transform(i,r){if(r=S(r),!d.test(r))return i;let o="";if(e.has(r))o=e.get(r);else{let a=await n(r);o=new Date(a).toLocaleString("zh-CN"),e.set(r,o)}return i=i.concat(`
        

export const lastUpdatedTime = "${o}"
      `),i}}}import it from"fs-extra";function ce(){return{name:"vite-plugin-mdx-raw-content",async transform(e,t){if(t=S(t),!d.test(t))return e;let n=await it.readFile(t,"utf-8");return e=e.concat(`
        

export const content = ${JSON.stringify(n)}
      `),e}}}async function de(e,t){return[await me(e,t),pe(e),ue(),ce()]}import mt from"unocss/vite";import nt from"@unocss/preset-wind";import ot from"@unocss/preset-attributify";import at from"@unocss/preset-icons";var st={presets:[ot(),nt({}),at()],shortcuts:{"flex-center":"flex justify-center items-center",menu:"flex justify-around items-center text-sm font-bold"},rules:[["border-1",{border:"1px solid var(--island-c-divider-light)"}],[/^divider-(\w+)$/,([,e])=>({[`border-${e}`]:"1px solid var(--island-c-divider-light)"})],[/^nav-h-(\w+)$/,([,e])=>({height:`var(--island-nav-height-${e})`})],["menu-item-before",{"margin-right":"12px","margin-left":"12px",width:"1px",height:"24px","background-color":"var(--island-c-divider-light)",content:'" "'}],["avoid-text-overflow",{"white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}],["multi-line-ellipsis",{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","webkit-line-clamp":"2","-webkit-box-orient":"vertical"}]],theme:{fontSize:{"6xl":["3.5rem","4rem"]},breakpoints:{xs:"640px",sm:"768px",md:"960px",lg:"1280px"},colors:{brandLight:"var(--island-c-brand-light)",brandDark:"var(--island-c-brand-dark)",brand:"var(--island-c-brand)",text:{1:"var(--island-c-text-1)",2:"var(--island-c-text-2)",3:"var(--island-c-text-3)",4:"var(--island-c-text-4)"},divider:{default:"var(--island-c-divider)",light:"var(--island-c-divider-light)",dark:"var(--island-c-divider-dark)"},gray:{light:{1:"var(--island-c-gray-light-1)",2:"var(--island-c-gray-light-2)",3:"var(--island-c-gray-light-3)",4:"var(--island-c-gray-light-4)"}},bg:{default:"var(--island-c-bg)",soft:"var(--island-c-bg-soft)",mute:"var(--island-c-bg-mute)"}}}},fe=st;async function Ui(e,t=!1,n){let i=e.plugins?.map(r=>r.vite).filter(Boolean).map(r=>r?.plugins||[]).flat();return[mt(fe),await de(e,t),Q(e,t,n),t&&!e.enableSpa?[]:lt({jsxRuntime:"automatic",jsxImportSource:t&&!e.enableSpa?g:"react",babel:{...e.babel||{},plugins:[...e.enableSpa?[]:[N],...e.babel?.plugins||[]]}}),V(),G({prefix:e.base??"/",root:e.root,...e.route}),...i||[]]}export{mr as a,pr as b,Ui as c};
//# sourceMappingURL=chunk-OBAR2ZRN.js.map